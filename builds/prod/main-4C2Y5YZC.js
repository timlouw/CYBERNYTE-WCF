var M=Object.defineProperty;var L=(n,e,o)=>e in n?M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var l=(n,e,o)=>L(n,typeof e!="symbol"?e+"":e,o);function E(n,e=document.body){let o=n.match(/^<([a-z][a-z0-9-]*)>/i);if(!o||!e)return;let i=document.createElement(o[1]);e.appendChild(i)}var p=class extends HTMLElement{};l(p,"styles"),l(p,"template");var w=":host{contain:layout style;display:block}";function b(n,e){let o=new CSSStyleSheet;if(o.replaceSync(w+e.styles),window.customElements.define(n.selector,class extends e{constructor(){super(),this.createComponent()}render(){return""}createComponent(){if(this.attachShadow({mode:"open"}),this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[o];let i=this.constructor;i.template?(this.shadowRoot.appendChild(i.template.content.cloneNode(!0)),this.render()):this.shadowRoot.innerHTML=this.render(),this.initializeBindings&&this.initializeBindings()}}initializeBindings(){}}),n.type==="page")return`<${n.selector}></${n.selector}>`}var u=document.createElement("template"),h=(n,e,o,i,a)=>{let d=[],t=n.getElementById(o);if((t==null?void 0:t.tagName)==="TEMPLATE"&&t){u.innerHTML=i;let c=u.content.firstElementChild;c&&(c.style.display="none",t.replaceWith(c),t=n.getElementById(o))}t&&(d=a());let x=e.subscribe(c=>{let g=!!c,r=n.getElementById(o);r&&(r.style.display=g?"":"none")},!1);return()=>{x();for(let c=0;c<d.length;c++)d[c]();d=[]}},y=(n,e,o,i,a,d)=>{let t=[],s=n.getElementById(i);if((s==null?void 0:s.tagName)==="TEMPLATE"&&s){u.innerHTML=a;let r=u.content.firstElementChild;r&&(r.style.display="none",s.replaceWith(r),s=n.getElementById(i))}s&&(t=d());let c=()=>{let r=!!o(),S=n.getElementById(i);S&&(S.style.display=r?"":"none")},g=new Array(e.length);for(let r=0;r<e.length;r++)g[r]=e[r].subscribe(c,!1);return c(),()=>{for(let r=0;r<g.length;r++)g[r]();for(let r=0;r<t.length;r++)t[r]();t=[]}};var m=null,T=!1,I=()=>{if(m){let n=m;m=null,T=!1;for(let e of n)e()}},H=n=>{m||(m=new Set),m.add(n),T||(T=!0,queueMicrotask(I))},f=n=>{let e=n,o=null;function i(a){if(arguments.length===0)return e;if(e!==a&&(e=a,o))for(let d of o)H(()=>d(e));return e}return i.subscribe=(a,d)=>(o||(o=new Set),o.add(a),d||a(e),()=>{o.delete(a)}),i};var C,Y=b({selector:"a-a",type:"component"},(C=class extends p{constructor(){super(...arguments);l(this,"initializeBindings",()=>{let e=this.shadowRoot,o=e.getElementById("b4"),i=e.getElementById("b5"),a=e.getElementById("b6"),d=e.getElementById("b7");o.style.backgroundColor=this._color(),i.style.backgroundColor=this._color(),a.firstChild.data=this._text(),d.firstChild.data=this._text(),this._color.subscribe(t=>{o.style.backgroundColor=t,i.style.backgroundColor=t},!0),this._text.subscribe(t=>{a.firstChild.data=t,d.firstChild.data=t},!0),h(e,this._loading,"b0",'<div id="b0" class="box" style="background-color: "></div>',()=>{let t=e.getElementById("b0");return t.style.backgroundColor=this._color(),[this._color.subscribe(s=>{t.style.backgroundColor=s},!0)]}),h(e,this._loading,"b1",'<div id="b1" class="box" style="background-color: "></div>',()=>{let t=e.getElementById("b1");return t.style.backgroundColor=this._color(),[this._color.subscribe(s=>{t.style.backgroundColor=s},!0)]}),y(e,[this._loading],()=>!this._loading()&&this.test,"b2",'<div id="b2" class="box2">asdfs</div>',()=>{let t=e.getElementById("b2");return t.firstChild.data=this._text(),[this._text.subscribe(s=>{t.firstChild.data=s},!0)]}),y(e,[this._loading],()=>!this._loading()&&this.test,"b3",'<div id="b3" class="box2">asdfs</div>',()=>{let t=e.getElementById("b3");return t.firstChild.data=this._text(),[this._text.subscribe(s=>{t.firstChild.data=s},!0)]})});l(this,"_color",f(this.getAttribute("color")));l(this,"_text",f("asdfs"));l(this,"_loading",f(!1));l(this,"test",!0);l(this,"render",()=>(this._update(),setTimeout(()=>{this._update()},1500),""));l(this,"_update",()=>{this._color(`#${Math.floor(Math.random()*16777215).toString(16)}`),this._text(`#${Math.floor(Math.random()*16777215).toString(16)}`),this._loading(!this._loading())})}},l(C,"template",(()=>{let e=document.createElement("template");return e.innerHTML='<div id="b4" class="box" style="background-color: "></div> <div id="b5" class="box" style="background-color: "></div> <template id="b0"></template> <template id="b1"></template> <div id="b6" class="box2">asdfs</div> <div id="b7" class="box2">asdfs</div> <template id="b2"></template> <template id="b3"></template>',e})()),l(C,"styles",`.box {width:100%;height:20px;border-radius:5px;border:1px solid black;} .box2 {width:100%;height:20px;background-color:black;border-radius:5px;border:2px solid green;}`),C));var _,v=b({selector:"a-b",type:"page"},(_=class extends p{constructor(){super(...arguments);l(this,"render",()=>`HELLO <a-a color="red"></a-a><a-a color="red"></a-a><a-a color="red"></a-a><a-a color="red"></a-a>`)}},l(_,"styles",""),_));E(v,document.body);
